<%= render 'surveys/tabs', survey: survey, selected: :data %>

<div class="container-fluid">
  <div class="d-flex justify-content-end align-items-center mb-2">
    <div class="me-2 text-muted">
      <%= survey.pager.count %> records
    </div>
    <div class="dropdown">
      <a href="#" class="btn btn-sm btn-secondary dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        <%= icon 'fas', 'file-export' %> Export
      </a>
      <ul class="dropdown-menu">
        <li>
          <%= link_to '#', class: 'dropdown-item' do %>
            <%= icon 'fas', 'file' %> CSV
          <% end %>
        </li>
        <li>
          <%= link_to '#', class: 'dropdown-item' do %>
            <%= icon 'fas', 'file-excel' %> Excel
          <% end %>
        </li>
        <li>
          <%= link_to '#', class: 'dropdown-item' do %>
            <%= icon 'fas', 'file-pdf' %> PDF
          <% end %>
        </li>
      </ul>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead>
      <th>
        Created
        <%= column_sort_link(survey, :created_at) %>
      </th>
      <% survey.questions.each do |question| %>
        <th class="text-nowrap" data-question-id="<%= question.id %>">
          <%= question.text %>
          <%= column_sort_link(survey, question) %>
        </th>
      <% end %>
      </thead>
      <tbody>
        <%= render partial: 'data_grid/rows', locals: { survey: survey } %>
      </tbody>
    </table>
  </div>
</div>